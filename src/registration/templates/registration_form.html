{% extends "base.html" %}
{% load sekizai_tags %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<div class="container">
    <div class="row" ng-controller="RegisterCtrl">

        <div class="col-md-4 col-md-offset-4" ng-show="!message">
            <div class="panel" ng-class="{'panel-primary': !loading, 'panel-default': loading}">

                <div class="panel-heading">
                    <h3 class="panel-title" ng-class="{disabled_title: loading}">Регистрация</h3>
                </div>

                <div class="panel-body">
                    <form role="form" novalidate ng-submit="submit('{% url 'registration_register' %}')">{% csrf_token %}
                        <fieldset ng-disabled="loading">
                            {% for field in form %}
                            <div class="form-group" ng-form="{{ field.html_name }}">
                                {{ field }}
                            </div>
                            {% endfor %}
                            <button id="reg_btn" type="button" class="btn btn-lg btn-block btn-primary ladda-button" data-style="zoom-in">
                                <span class="ladda-label">Готово</span>
                                <span class="ladda-spinner"></span>
                            </button>
                        </fieldset>
                        <input style="display:none" type="submit" value="" />
                    </form>
                </div>

            </div>
        </div>

        <div class="col-md-10 col-md-offset-1" ng-show="message">
            <div class="alert alert-dismissable" ng-class="{'alert-success': ajax_success, 'alert-danger': ajax_error}">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                <strong ng-show="ajax_success">Отлично!</strong><strong ng-show="ajax_error">Ошибка!</strong> [% message %]
            </div>
        </div>

    </div>
</div>
{% endblock %}